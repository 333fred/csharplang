# C# Language Design Meeting for May 11th, 2022

## Agenda

1. [Inconsistency around accessibility checks for interface implementations](#inconsistency-around-accessibility-checks-for-interface-implementations)
2. [`ref readonly` method parameters](#ref-readonly-method-parameters)
3. [Pattern matching with UTF-8 String Literals](#pattern-matching-with-utf-8-string-literals)

## Quote of the Day

- "Did [redacted] turn their camera on? I'm in trouble."

## Discussion

### Inconsistency around accessibility checks for interface implementations

https://github.com/dotnet/roslyn/issues/60885

A small group went back and looked at this issue, to come up with a more palatable solution to the problem than the existing proposals. Unfortunately, our hands
are somewhat tied here, as the runtime does not do any form of assembly accessibility checks. If the signature of a new interface member (DIM or not, `internal` or
not) lines up with an existing member of a type that implements that interface, the runtime will consider that existing member to be an implementation of the
interface member. We therefore think the best we can do is to perform a real accessibility check at compile-time. This isn't something we do today, and will prevent
the user unintentionally getting into this scenario at compile time. While it can still be observed at run-time due to an upgraded assembly version, this is no
different than other existing breaks when introducing new members into interfaces.

#### Conclusion

Perform a real accessibility check for implementations of internal interface methods, and error if the check fails.

### `ref readonly` method parameters

https://github.com/dotnet/csharplang/issues/6010

After the [last meeting](LDM-2022-05-09.md#ref-readonly-parameters) on `ref readonly` parameters, we had some offline discussion and determined that we had conflated
multiple aspects of the design: the parameter annotation, the callsite, and 

### Pattern matching with UTF-8 String Literals

https://github.com/dotnet/csharplang/discussions/6036

Finally today, we looked at pattern matching for UTF-8 string literals, particularly against inputs of `ReadOnlySpan<byte>`. This is similar to the work we did for
`string` for C# 11, where you will be able to pattern match an input of `Span<char>` against string literals. We're generally supportive of this, and we have a broader
goal in mind: we'd eventually like `u8` literals to be _be_ constants. The runtime would need to be updated to support this (as the CLI spec doesn't indicate that
UTF-8 literals are supported as constant values today), but we are in support of steps along the journey of making `u8` literals appear as constants, including pattern
matching support. We don't think this is top priority, though, so while we would accept a community contribution to create a specification for how this would work, we
won't be actively working on it at this time.

#### Conclusion

We will review a community-contributed specification for this feature.
